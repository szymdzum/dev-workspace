{
  "$schema": "../schemas/debug-config.schema.json",
  "version": "1.0.0",
  "description": "Debug and environment configuration for easy troubleshooting",
  
  "env": {
    "system": {
      "CLAUDE_PROJECT_DIR": "$PWD",
      "HOOK_DIR": "$CLAUDE_PROJECT_DIR/.claude/hooks",
      "CONFIG_DIR": "$CLAUDE_PROJECT_DIR/.claude/config",
      "LOG_DIR": "$HOOK_DIR/logs"
    },
    
    "debug": {
      "HOOK_DEBUG": "${HOOK_DEBUG:-0}",
      "HOOK_DRY_RUN": "${HOOK_DRY_RUN:-0}",
      "HOOK_LOG_LEVEL": "${HOOK_LOG_LEVEL:-3}",
      "HOOK_VERBOSE": "${HOOK_VERBOSE:-0}"
    },
    
    "validation": {
      "ENABLE_SECRET_CHECK": "${ENABLE_SECRET_CHECK:-1}",
      "ENABLE_COMPLEXITY_CHECK": "${ENABLE_COMPLEXITY_CHECK:-1}",
      "ENABLE_AUTO_FORMAT": "${ENABLE_AUTO_FORMAT:-0}",
      "ENABLE_TODO_TRACKING": "${ENABLE_TODO_TRACKING:-1}",
      "ENABLE_TYPE_CHECK": "${ENABLE_TYPE_CHECK:-1}",
      "ENABLE_LINT_CHECK": "${ENABLE_LINT_CHECK:-1}"
    },
    
    "thresholds": {
      "MAX_COMPLEXITY": "${MAX_COMPLEXITY:-15}",
      "MAX_LINE_LENGTH": "${MAX_LINE_LENGTH:-120}",
      "MAX_TODO_COUNT": "${MAX_TODO_COUNT:-50}",
      "MAX_FILE_SIZE": "${MAX_FILE_SIZE:-1048576}"
    }
  },
  
  "debugModes": {
    "off": {
      "description": "No debugging",
      "env": {
        "HOOK_DEBUG": "0",
        "HOOK_VERBOSE": "0",
        "HOOK_LOG_LEVEL": "2"
      }
    },
    
    "basic": {
      "description": "Basic logging and info",
      "env": {
        "HOOK_DEBUG": "0", 
        "HOOK_VERBOSE": "1",
        "HOOK_LOG_LEVEL": "3"
      }
    },
    
    "full": {
      "description": "Full debugging with variable dumps",
      "env": {
        "HOOK_DEBUG": "1",
        "HOOK_VERBOSE": "1", 
        "HOOK_LOG_LEVEL": "4",
        "HOOK_DRY_RUN": "0"
      }
    },
    
    "dry-run": {
      "description": "Dry run mode - show what would happen",
      "env": {
        "HOOK_DEBUG": "1",
        "HOOK_VERBOSE": "1",
        "HOOK_DRY_RUN": "1",
        "HOOK_LOG_LEVEL": "4"
      }
    }
  },
  
  "activeMode": "basic",
  
  "shortcuts": {
    "enable-debug": "export HOOK_DEBUG=1 HOOK_VERBOSE=1",
    "disable-debug": "export HOOK_DEBUG=0 HOOK_VERBOSE=0", 
    "dry-run": "export HOOK_DRY_RUN=1 HOOK_DEBUG=1",
    "reset-env": "unset HOOK_DEBUG HOOK_VERBOSE HOOK_DRY_RUN HOOK_LOG_LEVEL",
    "show-env": "env | grep -E '^(HOOK_|CLAUDE_|ENABLE_|MAX_)' | sort"
  },
  
  "diagnostics": {
    "commands": {
      "test-config": "$HOOK_DIR/lib/hook-config.sh test",
      "show-config": "$HOOK_DIR/lib/hook-config.sh show", 
      "validate-manifest": "jq . $HOOK_DIR/manifest.json",
      "check-permissions": "ls -la $HOOK_DIR/*.sh",
      "tail-logs": "tail -f $LOG_DIR/hook.log"
    },
    
    "healthCheck": [
      "Check if jq is installed: command -v jq",
      "Check hook directory: test -d $HOOK_DIR", 
      "Check hook-lib exists: test -f $HOOK_DIR/lib/hook-lib.sh",
      "Check logs directory: test -d $LOG_DIR",
      "Validate manifest JSON: jq . $HOOK_DIR/manifest.json > /dev/null"
    ]
  }
}